# 1. 데이터베이스

## 1. 데이터와 정보
- 데이터: 현실 세계에서 단순히 관찰하거나 측정하여 수집한 사실이나 값
- 정보: 의사 결정에 유용하게 활용할 수 있도록 데이터를 처리한 결과물

## 2. 정보 처리, 정보 시스템, 데이터베이스
- 정보 처리: 데이터에서 정보를 추출하는 과정 또는 방법
- 정보 시스템: 조직을 운영하기 위해 필요한 데이터를 수집하여 저장해두었다가 필요할 때 유용한 정보를 만들어주는 수단
- 데이터베이스: 정보 시스템 안에서 데이터를 젖아하고 있다가 필요할 때 제공하는 역할

## 3. 데이터베이스의 정의
- 특정 조직의 여러 사용자가 <b>'공유'</b>해서 사용할 수 있도록 <b>'통합'</b>해서 <b>'저장'</b>한 <b>'운영'</b>데이터의 집합
- 여러 사용자가 함께 소유하고 사용할 수 있는 <b>'공유 데이터'</b>
- 중복을 최소화한 <b>'통합 데이터'</b>
- 컴퓨터가 접근할 수 있는 매체에 들어 있는 <b>'저장 데이터'</b>
- 조직의 주요 기능을 수행하기 위해 반드시 필요한 <b>'운영 데이터'</b>

## 4. 데이터베이스의 특징
- <b>'실시간 접근'</b>이 가능하다.
  ```
  데이터베이스는 사용자의 데이터 요구에 실시간으로 응답할 수 있어야 한다.
  ```
- <b>'계속 변화'</b>한다.
  ```
  데이터베이스는 동적인 특징이 있어 데이터를 계속 삽입/삭제/수정하여 현재의 정확한 데이터를 유지해야 한다.
  ```
- <b>'동시 공유'</b>가 가능하다.
  ```
  동시 공유는 여러 사용자가 서로 다른 데이터를 동시에 사용하는 것뿐 아니라, 같은 데이터를 동시에 사용하는 것도 모두 지원한다는 의미다.
  ```
- <b>'내용으로 참조'</b>가 가능하다.
  ```
  데이터베이스는 저장된 주소나 위치가 아닌 데이터의 내용, 즉 값으로 참조할 수 있다.
  ```

## 5. 데이터의 분류
- <b>정형 데이터</b>
  ```
  - 구조화된 데이터, 즉 미리 정해진 구조에 따라 저장된 데이터
  ex) 엑셀의 스프레드시트
  ```
- <b>반정형 데이터</b>
  ```
  - 구조에 따라 저장된 데이터이지만 정형 데이터와 달리 데이터 내용 안에 구조에 대한 설명이 함께 존재한다.
  - 데이터 내용에 대한 설명, 즉 구조를 파악하는 parsing 과정이 필요하다.
  ex) HTML, XML, JSON 문서나 웹 로그, 센서 데이터
  ```
- <b>비정형 데이터</b>
  ```
  - 정해진 구조가 없이 저장된 데이터
  ex) 텍스트, 영상, 이미지, 워드나 PDF 같은 멀티미디어 데이터
  ```


# 2. 데이터베이스 관리 시스템

## 1. 파일 시스템
- 데이터를 파일로 관리하기 위해 파일의 생성, 삭제, 수정, 검색 긴으을 제공하는 소프트웨어
- 응용 프로그램마다 필요한 데이터를 별도 파일로 관리한다.
- <b>데이터 중복성과 데이터 종속성 문제가 발생</b>한다.

## 2. 데이터베이스 관리 시스템(DBMS)
- 파일 시스템의 데이터 중복과 데이터 종속 문제를 해결하기 위해 제시된 소프트웨어
- 조직에 필요한 데이터를 데이터베이스에 통합하여 저장해두고 이를 관리한다.

## 3. 데이터 관리 시스템의 주요 기능
- 정의 기능: 데이터베이스의 구조를 정의하거나 수정한다.
- 조작 기능: 데이터를 삽입, 삭제, 수정, 검색하는 연산을 한다.
- 제어 기능: 데이터를 항상 정확하고 안전하게 유지한다.
  ```
  - 데이터를 삽입, 삭제, 수정하는 연산을 한 후에도 내용이 일관되면서 무결성을 유지하게 한다.
  - 장애가 발생해도 회복이 가능하도록 제어한다.
  - 권한이 있는 사용자에게만 데이터 접근을 허용하여 보안이 유지되도록 제어한다.
  - 여러 사용자가 데이터베이스에 동시에 접근하여 데이터를 처리할 수 있도록 제어한다.
  ```


# 3. 데이터베이스 시스템

## 1. 데이터베이스 시스템
- 데이터베이스에 데이터를 저장하고, 이를 관리하여 조작에 필요한 정보를 생성해주는 시스템
- 사용자, 데이터, 언어, 데이터베이스 관리 시스템, 데이터베이스, 컴퓨터로 구성된다.
- <b>데이터베이스</b>: 데이터를 저장해두는 곳
- <b>데이터베이스 관리 시스템</b>: 데이터베이스에 젖아된 데이터가 일관되고 무결한 상태로 유지되도록 관리하는 역할
- <b>데이터베이스 시스템</b>: 데이터베이스와 데이터베이스 관리 시스템을 이용해 조직에 필요한 정보를 제공해주는 전체 시스템

## 2. 스키마와 인스턴스
- <b>스키마</b>: 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것
- <b>인스턴스</b>: 스키마에 따라 데이터베이스에 실제로 저장된 값

## 3. 3단계 데이터베이스 구조
- <b>외부 단계</b>: 데이터베이스를 개별 사용자 관점에서 이해하고 표현
  ```
  - 사용자에게 필요한 데이터베이스를 정의한 외부 스키마가 여러 개 존재할 수 있다.
  - 외부 스키마는 각 사용자가 생각하는 데이터베이스의 모습을 표현한 논리적인 구조로, 사용자마다 다르다.
  - 외부 스키마는 개념 스키마를 기초로 하여 사용자의 이용 목적에 맞게 만들어진다.
  ```
- <b>개념 단계</b>: 데이터베이스를 조직 전체의 관점에서 이해하고 표현
  ```
  - 데이터베이스 전체의 논리적 구조를 정의한 개념 스키마가 하나만 존재한다.
  - 개념 스키마는 데이터베이스 관리 시스템이나 관리자의 관점에서 모든 사용자에게
  필요한 데이터를 통합하여 전체 데이터베이스의 논리적 구조를 정의한 것이다.
  - 개념 스키마는 전체 데이터베이스에 저장되는 데이터 종류, 데이터들 간의 관계 및
  제약조건, 데이터에 대한 보안정책, 접근 권한에 대한 정의가 포함한다.
  ```
- <b>내부 단계</b>: 데이터베이스를 물리적인 저장 장치의 관점에서 이해하고 표현
  ```
  - 데이터베이스가 저장장치에 실제로 저장되는 방법을 정의한 내부 스키마가 하나만 존재한다.
  - 내부 스키마는 데이터베이스의 개념 스키마에 대한 물리적인 저장 구조를 표현하므로 데이터베이스에 하나만 존재한다.
  - 내부 스키마는 파일에 데이터를 저장하는 레코드의 구조, 레코들르 구성하는 필드의 크기, 인덱스를 이용한 레코드 접근 경로 등을 정의한다.
  ```


![](https://i.imgur.com/S9gavyG.jpeg)


## 4. 데이터 독립성
3단계 데이터베이스 구조의 목적은 데이터 독립성을 실현하는 데 있다. 데이터 독립성은 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성이다.

- 논리적 데이터 독립성: 개념 스키마가 변경되어도 외부 스키마는 영향을 받지 않는다.(외부/개념 사상)
  ```
  - 전체 데이터베이스의 논리적인 구조가 변경되어도 관련된 외부/개념 사상 정보만 적절히 수정해주면
  직접 관련이 없는 사용자를 위한 외부 스키마는 변경할 필요가 없다.
  - 외부/개념 사상은 응용 인터페이스라고도 한다.
  ```
- 물리적 데이터 독립성: 내부 스키마가 변경되어도 개념 스키마는 영향을 받지 않는다.(개념/내부 사상)
  ```
  - 데이터베이스의 저장 구조가 변경되어도 관련된 개념/내부 사상 정보만 적절히 수정해주면
  직접적으로 관련이 없는 데이터베이스의 논리적 구조는 영향을 받지 않는다.
  - 개념/내부 사상은 저장 인터페이스라고도 한다.
  ```

- 스키마 사이의 대응 관계를 사상 또는 매핑이라고 한다.

## 5. 데이터 사전(시스템 카탈로그)
<b>데이터베이스에 저장되는 데이터에 관한 정보, 즉 메타 데이터를 저장하는 시스템 데이터베이스</b>
- 데이터 사전은 데이터베이스에 저장되어 있는 데이터를 정확하고 효율적으로 이용하기 위해 참고해야 되는 스키마, 사상 정보, 다양한 제약조건 등을 저장하고 있다.
- 데이터 사전은 데이터베이스 관리 시스템이 스스로 생성하고 유지하는 것으로, 데이터베이스 관리 시스템은 추가, 수정할 수 있는 반면, 사용자는 저장 내용을 검색만 할 수 있다.
- 데이터 사전에 있는 데이터에 실제로 접근하는 데 필요한 위치 정보는 데이터 디렉토리에서 관리하고, 시스템만 접근할 수 있다.

## 6. 데이터베이스 사용자
사용자는 데이터베이스를 이용하기 위해 접근하는 모든 사람을 의미한다.
- 데이터베이스 관리자: 데이터베이스 시스템을 운영, 관리한다.
- 최종 사용자(일반 사용자): 데이터베이스에 접근하여 데이터를 조작(삽입, 삭제, 수정, 검색)한다.
- 응용 프로그래머: 데이터 언어를 삽입하여 응용 프로그램을 작성한다.

## 7. 데이터 언어
데이터 언어는 사요자와 데이터베이스 관리 시스템 간의 통신 수단이다.
- <b>데이터 정의어(DDL)</b>: 스키마를 정의하거나, 수정 또는 삭제하기 위해서 사용한다.
  ```
  - 정의된 스키마는 데이터 사전에 저장되고, 삭제나 수정이 발생하면 이 내용도 데이터 사전에 반영된다.
  ```
- <b>데이터 조작어(DML)</b>: 데이터의 삽입, 삭제, 수정, 검색 등의 처리를 요구하기 위해서 사용한다.
  ```
  - DDL을 이용해 정의된 스키마에 따라 조직에 필요한 실제 데이터 값(인스턴스)이 저장되는데,
  사용자가 실제 데이터값을 활용하기 위해 사용하는 언어다.
  - 설명 방식에 따라 절차적 데이터 조작어와 비절차적 데이터 조작어로 나눈다.
      - 절차적 데이터 조작어: 사용자가 어떤 데이터를 윈하고 해당 데이터를 얻으려면 어떻게 처리해야 하는지를 설명한다.
      - 비절차적 데이터 조작어(선언적 언어): 사용자가 어떤 데이터를 원하는지만 설명한다.
  즉, 해당 데이터를 얻으려면 어떻게 처리해야 하는지는 데이터베이스 관리 시스템에 맡긴다.
  ```
- <b>데이터 제의어(DCL)</b>: 동시 공유가 가능하면서도 무결성과 일관성을 유지하도록 내부적으로 필요한 규칙이나 기법들을 정의하기 위해서 사용한다.
  ```
  - 이 규칙과 기법을 정의하는 이유는 무결성, 보안, 회복, 동시성을 보장하기 위해서다.
  ```

## 8. 데이터베이스 관리 시스템

![](https://i.imgur.com/lCxp71F.jpeg)

주요 기능은 데이터베이스 관리와 데이터 처리 요구에 대한 수행이다. 질의 처리기와 저장 데이터 관리자로 나눈다.
- <b>질의 처리기</b>: 사용자의 데이터 처리 요구를 해석하여 처리한다.
  ```
  - DDL 컴파일러: 데이터 정의어로 작성된 스키마의 정의를 해석하거나
  기존 스키마의 삭제나 수정 요청돌 처리하여 변경된 내용을 데이터 사전에 적용한다.
  - DML 프리 컴파일러: 응용 프로그램에 삽입된 데이터 조작어를 추출하여 DML 컴파일러에 전달한다.
  단, 데이터 조작어와 관련 없는 나머지 코드들은 해당 언어의 컴파일러에 보내진다.
  - DML 컴파일러: 데이터 조작어로 작성된 데이터의 처리 요구를 분석하여 런타임 데이터베이스 처리기가 이해할 수 있도록 해석한다.
  ```
- <b>저장 데이터 관리자</b>: 디스크에 저장된 데이터베이스와 데이터 사전을 관리하고, 여기에 실제로 접근한다. 운영체제의 도움을 받아 데이터베이스에 대한 접근을 수행한다.


# 4. 데이터 모델링

## 1. 데이터 모델링
데이터 모델링은 현실 세계에 존재하는 데이터를 컴퓨터 세계의 데이터베이스로 옮기는 변환 과정이다. 개념적 데이터 모델링과 논리적 데이터 모델링이 있다.
보통 개념적 모델리오가 논리적 모델링을 통틀어 데이터베이스 설계라고 한다.

- <b>개념적 데이터 모델링</b>: 현실 세계의 중요 데이터를 추출하여 개념 세계로 옮긴다.
- <b>논리적 데이터 모델링</b>: 개념 세계의 데이터를 데이터베이스에 저장하는 구조로 표현한다.

## 2. 데이터 모델
데이터 모델링의 결과물을 표현하는 도구

- <b>개념적 데이터 모델</b>: 현실 세계를 사람의 머리로 이해할 수 있도록 개념적 모델링의 결과물인 개념적 구조로 표현하는 도구. 대표적으로 <b>개체-관계 모델(E-R Model)</b>이 있다.
- <b>논리적 데이터 모델</b>: 개념적 구조를 논리적 모델링의 결과물인 논리적 구조로 표현하는 도구. 대표적으로 <b>관계 데이터 모델</b>이 있다.

## 3. 개체-관계 모델
개체와 개체 간의 관계를 이용해 현실 세계를 개념적 구조로 표현하는 개념적 데이터 모델

### 개체
현실 세계에서 조직을 운영하는 데 꼭 필요한 사람이나 사물과 같이 구별되는 모든 것을 의미한다.

![](https://i.imgur.com/wChBqjy.jpeg)

- 개체는 다른 개체와 구별되는 이름을 가지고 있고, 각 개체만의 고유한 특성이나 상태, 즉 속성을 하나 이상 가지고 있다.
- 개체를 고유의 이름과 속성들로 정의한 것을 개체 타입(entity type)이라 한다.
- 개체를 구성하고 있는 속성이 실제 값을 가짐으로써 실체화된 개체를 개체 인스턴스라 한다.
- 특정 개체 타입에 대한 개체 인스턴스들을 모아 놓은 것을 개체 집합이라 한다.

### 속성
개체나 관계가 가지고 있는 고유의 특성
- <b>속성의 유형</b>
  - 속성 값의 개수
    ```
    - 단일 값 속성: 특정 개체를 구성하는 속성의 값이 하나일 때
    - 다중 값 속성: 특정 개체를 구성하는 속성이 값을 여러 개 가질 수 있을 때
    ```
  - 의미의 분해 가능성
    ```
    - 단순 속성: 의미를 더는 분해할 수 없는 속성, 즉 의미가 하나일 때
    - 복합 속성: 의미를 분해할 수 있어 값이 여러 개의 의미를 포함할 때
    ```
- <b>기존 속성 값에서 유도</b>
  - 유도 속성: 값이 별도로 저장되는 것이 아닌 기존의 다른 속성 값에서 유도되어 결정되는 속성
  - 저장 속성에 실제로 값을 저장하고, 유도 속성은 필요할 때마다 계산되므로 값을 따로 저장할 필요가 없다.
- <b>null 속성</b>: null 값이 허용되는 속성
  - null 값
    ```
    - 아직 결정되지 않았거나 모르는 값을 의미
    - 또는 해당되는 값이 없는(존재하지 않는 값)경우
    - 값을 아직 갖지 않은 것으로, 공백이나 0과는 다르다.
    ```
- <b>키 속성</b>: 개체 집합에 존재하는 각 개체 인스턴스들을 식별하는 데 사용하는 속성(하나 이상으로 구성)

### 관계
개체와 개체가 맺고 있는 의미 있는 연관성. 개체 집합들 사이의 대응관계, 즉 매핑을 의미.

- <b>관계의 유형</b>: ㅁ
  - <b>관계에 참여하는 개체 타입의 수</b>
    ```
    - 이항 관계: 개체 타입 두 개가 맺는 관계
    - 삼항 관계: 개체 타입 세 개가 맺는 관계
    - 순환 관계: 개체 타입 하나가 자기 자신과 맺는 관계
    ```
- <b>매핑 카디널리티</b>: 관계를 맺는 두 개체 집합에서 각 개체 인스턴스가 연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수
  - <b>일대일 관계</b>
    ```
    개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 하나와 관계를 맺을 수 있고,
    개체 B의 각 개체 인스턴스도 개체 A의 개체 인스턴스 하나와 관계를 맺을 수 있을 때의 두 개체의 관계
    ```
  - <b>일대다 관계</b>
    ```
    개체 A의 각 개체 인스턴스는 개체 B의 개체 인스턴스 여러 개와 관계를 맺을 수 있지만,
    개체 B의 각 개체 A의 개체 인스턴스 하나와만 관계를 맺을 수 있을 때의 두 개체의 관계
    ```
  - <b>다대다 관계</b>
    ```
    개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 여러 개와 관계를 맺을 수 있고,
    개체 B의 각 인스턴스도 개체 A의 개체 인스턴스 여러 개와 관계를 맺을 수 있을 때의 두 개체의 관계
    ```
- <b>관계의 참여 특성</b> - 필수적 참여(전체 참여), 선택적 참여(부분 참여)
  : 개체 A와 B 사이의 관계에서, 개체 A의 모든 개체 인스턴스가 관계에 반드시 참여해야 될 때 개체 A가 관계에 '필수적 참여한다'라고 한다.
- <b>관계의 종속성</b> - 강한 개체, 약한 개체
  - 존재 종속: 두 개체가 관계에 대해 종속적인 특성을 가질 때, 개체 B가 독자적으로는 존재할 수 없고 다른 개체 A의 존재 여부에 의존적이라면 개체 B가 개체 A에 종속되어 있다고 한다.
  - 강한 개체: 다른 개체의 존재 여부를 결정하는 개체(개체 A)
  - 약한 개체: 다른 개체의 존재 여부에 의존적인 개체(개체 B)
 
## 4. 개체-관계 다이어그램
개체-관계 모델을 이용해 현실 세계를 개념적으로 모델링한 결과물을 그림으로 표현한 것

- 기본적으로 개체를 표현하는 사각형, 개체 간의 관계를 표현하는 마름모, 개체나 관계의 속성을 표현하는 타원과 각 요소들을 연결하는 선으로 구성된다.

![](https://i.imgur.com/GfKJjHb.jpg)

## 5. 논리적 데이터 모델
선택한 데이터베이스 관리 시스템에 따라 E-R 다이어그램으로 표현된 개념적 구조를 데이터베이스에 저장할 형태로 표현한 데이터베이스의 논리적인 구조.
즉, 논리적 데이터 모델은 논리적 데이터 모델링의 결과물이고, 사용자가 생각하는 데이터베이스의 모습 또는 구조다.

- <b>관계 데이터 모델</b>: 데이터베이스의 논리적 구조가 2차원 <b>테이블</b> 형태
- <b>계층 데이터 모델</b>: 데이터베이스의 논리적 구조가 <b>트리</b> 형태
- <b>네트워크 데이터 모델</b>: 데이터베이스의 논리적 구조가 <b>그래프</b> 형태


# 5. 관계 데이터 모델

## 1. 관계 데이터 모델의 개념과 기본 용어
관계 데이터 모델은 하나의 개체에 대한 데이터를 릴레이션 하나에 담아 데이터베이스에 저장한다.

- 릴레이션 : 하나의 개체에 관한 데이터를 2차원 테이블의 구조로 저장한 것
- 속성(애트리뷰트)과 투플 : 릴레이션의 열과 행
  - 릴레이션, 속성, 투플은 파일 관리 시스템에서의 파일, 해당 파일의 필드, 해당 파일의 레코드에 대응하는 개념이다.
- 도메인 : 하나의 속성이 가질 수 있는 모든 값의 집합
  - 프로그래밍 언어에서 데이터 타입을 도메인, 변수를 속성으로 생각하면 된다.
- 널(null) : 아직 모르거나 해당되는 사항이 없음을 표현하는 특별한 값
  - 데이터베이스 관리 시스템마다 널 값을 표시하는 기호가 달라 보통 공백을 사용한다.
- 차수 : 하나의 릴레이션에서 속성의 전체 개수
- 카디널리티 : 하나의 릴레이션에서 투플의 전체 개수

## 2. 릴레이션과 데이터베이스의 구성
- <b>릴레이션 스키마</b>: 릴레이션의 이름과 릴레이션에 포함된 모든 속성의 이름으로 정의하는 릴레이션의 논리적 구조
- <b>릴레이션 인스턴스</b>: 어느 한 시점에 릴레이션에 존재하는 투플들의 집합
- <b>데이터베이스 스키마</b>: 데이터베이스를 구성하는 릴레이션 스키마의 모음
- <b>데이터베이스 인스턴스</b>: 데이터베이스를 구성하는 모든 릴레이션 인스턴스의 모음

![](https://i.imgur.com/J010EbQ.jpeg)


## 3. 릴레이션의 특성
- <b>투플의 유일성</b>: 하나의 릴레이션에는 동일한 투플이 존재할 수 없다.
  - 모든 투플에는 다른 투플과 구별되는 유일한 특성이 있어야 한다.
  - 투플을 유일하게 구별하기 위해 선정되는 속성(또는 속성들의 모임)
- <b>투플의 무순서</b>: 하나의 릴레이션에는 투플 사이의 순서는 무의미하다.
  - 투플 순서가 바뀐다고 다른 릴레이션이 될 수 없고, 순서와 상관없이 투플 내용이 같으면 동일한 릴레이션이다.
- <b>속성의 무순서</b>: 하나의 릴레이션에서 속성 사이의 순서는 무의미하다.
  - 속성의 순서가 바뀌어도 다른 릴레이션이 될 수 없고, 순서와 상관없이 같은 속성들로 구성되어 있어야 동일한 릴레이션이다.
- <b>속성의 원자성</b>: 속성 값으로 원자 값만 사용할 수 있다.

## 4. 키(Key)
키는 릴레이션에서 투플들을 구별하는 역할을 하는 속성 또는 속성들의 집합.

### 특성
- <b>유일성</b>: 한 릴레이션에서 모든 투플은 서로 다른 키 값을 가져야 한다.
- <b>최소성</b>: 꼭 필요한 최소한의 속성들로만 키를 구성한다.

### 종류
- <b>슈퍼키</b>: 유일성을 만족하는 속성 또는 속성들의 집합
  - 유일성: 키가 갖추어야 하는 기본 특성으로, 하나의 릴레이션에서 키로 지정된 속성 값은 투플마다 달라야 한다는 의미다.
- <b>후보키</b>: 유일성과 최소성을 만족하는 속성 또는 속성들의 집합
  - 최소성: 꼭 필요한 최소한의 속성들로만 키를 구성하는 특성이다.
  - 슈퍼키 중에서 최소성을 만족하는 것이 후보키가 된다.
- <b>기본키</b>: 후보키 중에서 기본적으로 사용하기 위해 선택한 키
  - 기본키를 선택할 때 고려할 기준
    - 널 값을 가질 수 있는 속성이 포함된 후보키는 기본키로 부적합하다.
    - 값이 자주 변경될 수 있는 속성이 포함된 후보키는 기본키로 부적합하다.
    - 단순한 후보키를 기본키로 선택한다.
      - 단순한 후보키: 자릿수가 적은 정수나 단순 문자열인 속성으로 구성되거나, 구성하는 속성의 개수가 적은 후보키
- <b>대체키</b>: 기본키로 선택되지 못한 후보키
- <b>외래키</b>: 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합
  - 외래키가 다른 릴레이션의 기본키 외에 대체키를 참조하는 것도 가능하다. 다만 외래키는 다른 릴레이션의 기본키를 참조하는 경우가 많다.
  - 기본키가 아니면 유일한 투플을 구별하기 어렵기 때문에 외래키는 반드시 다른 릴레이션의 기본키를 참조해야 한다.
  - 외래키를 가진 릴레이션을 '참조하는 릴레이션'이라 하고, 기본키를 가진 릴레이션을 '참조되는 릴레이션'이라 한다.
  - 외래키가 되는 속성과 기본키가 되는 속성의 이름은 달라도 되지만, <b>외래키 속성의 도메인과 참조되는 키본키 속성의 도메인은 반드시 같아야 한다.</b>
  - 하나의 릴레이션에는 외래키가 여러 개 존재할 수 있다.
  - 외래키를 기본키로 사용할 사용할 수도 있고 외래키를 포함하여 기본키를 구성할 수도 있다.
  - 참조하는 릴레이션과 참조되는 릴레이션이 같을 수 있다. 즉, 외래키 자신이 속한 릴레이션의 기본키를 참조하도록 외래키를 정의할 수도 있다.
  - 외래키는 기본키를 참조하지만 기본키가 아니기 때문에 널 값을 가질 수 있다.

## 5. 관계 데이터 모델의 제약조건
관계 데이터 모델에서 정의하고 있는 기본 제약 사항은 키와 관련한 무결성 제약조건이다. 데이터를 정확하고 유효하게 유지하는 무결성을 보장해야 된다는 규칙이다.

<b>무결성</b>: 데이터에 결함이 없는 상태, 즉 데이터가 정확하고 유효하게 유지된 상태
- <b>개체 무결성 제약조건</b>: 기본키를 구성하는 모든 속성은 널 값을 가질 수 없다.
  - 기본키를 구성하는 속성 전체나 일부가 널 값이 되면 투플의 유일성을 판단할 수 없어 기본키의 본래 목적을 상실하게 된다.
  - 보통 데이터베이스 관리 시스템이 자동으로 수행하므로 새로운 릴레이션을 생성할 때마다 기본키를 어떤 속성들로 구성할 것인지 데이터베이스 관리 시스템에 알려주면 된다.
- <b>참조 무결성 제약조건<b/>: 외래키는 참조할 수 없는 값을 가질 수 없다.
  - 외래키가 자신이 참조하는 릴레이션의 기본키와 상관이 없는 값을 가지게 되면 두 릴레이션을 연관시킬 수 없으므로 외래키 본래의 의미가 없어진다.
  - 외래키가 참조 가능한 값만 가져야 하지만, 널 값을 가진다고 해서 위반한 것으로 판단해서는 안 된다.
  - 이 또한 데이터베이스 관리 시스템이 자동으로 수행하므로 새로운 릴레이션을 생성할 때마다 어떤 속성들이 외래키인지, 어떤 릴레이션의 기본키를 참조하면 되는지, 참조 무결성 제약조건을 위반하게 되는 경우에 원하는 처리 방법을 데이터베이스 관리 시스템에 알려주면 된다.


# 6. 관계 데이터 연산

## 1. 데이터 모델
데이터 모델 = 데이터 구조 + 제약조건 + 연산

## 2. 관계 데이터 연산
관계 데이터 모델에서의 연산은 원하는 데이터를 얻기 위해 릴레이션에 필요한 처리 요구를 수행하는 것으로, 데이터베이스 시스템의 구성 요소 중 데이터 언어의 역할을 한다.

- 관계 대수: 원하는 결과를 얻기 위해 데이터의 처리 과정을 순서대로 기술하는 절차 언어다.
- 관계 해석: 원하는 결과를 얻기 위해 처리를 원하는 데이터가 무엇인지만 기술하는 비절차 언어다.

질의: 데이터에 대한 처리 요구

## 3. 관계 대수
- 수학의 집합 관련 연산자를 차용한다.
- 관계 대수의 피연산자인 릴레이션에 연산자를 적용한 결과도 릴레이션이라는 폐쇄 특성이 있다.
- 관계 대수에 속하는 대표적인 연산자 8개는 특성에 따라 일반 집합 연산자와 순수 관계 연산자로 분류할 수 있다.

## 4. 일반 집합 연산자
릴레이션이 투플의 집합이라는 개념을 이용하는 연산자로, 두 릴레이션을 대상으로 연산을 수행한다.
합집합, 교집합, 차집합은 피연산자인 두 릴레이션이 합병 가능해야 연산을 수행할 수 있다.

- 합집합(∪): 두 릴레이션의 합집합 투플을 구한다.
- 교집합(∩): 두 릴레이션의 교집합 투플을 구한다.
- 차집합(-): 두 릴레이션의 차집합 투플을 구한다.
- 카티션 프로덕트(x): 두 릴레이션의 모든 투플을 각각 연결하여 생성된 투플을 구한다.
- 두 릴레이션의 차수가 같다. 즉, 두 릴레이션은 속성 개수가 같다.
- 2개의 릴레이션에서 서로 대응되는 속성의 도메인이 같다. 단, 도메인이 같으면 속성의 이름은 달라도 된다.

## 5. 순수 관계 연산자
- 셀렉트(σ): 릴레이션에서 조건을 만족하는 투플을 구한다.
- 프로젝트(π): 릴레이션에서 주어진 속성들의 값으로만 구성된 투플을 구한다.
- 조인(⋈): 공통 속성을 이용해 두 릴레이션의 투플들을 연결하여 생성된 투플을 구한다.
- 자연 조인(⋈): 두 릴레이션에서 조인 속성 값이 같은 투플끼리만 연결하여 생성된 새로운 투플로 구성된다.
- 세타 조인(θ-join): 주어진 조인 조건을 만족하는 두 릴레이션의 모든 투플을 연결한 새로운 투플로 결과 릴레이션을 구성한다.
- 디비전(÷): 나누어지는 릴레이션에서 나누는 릴레이션의 모든 투플과 관련이 있는 투플을 구한다.

## 6. 확장된 관계 대수 연산자
- 세미 조인(⋉): 조인 속성으로 프로젝트한 릴레이션을 이용해 조인(자연 조인)한다.
- 외부 조인(⋈+): 결과 릴레이션에 자연 조인 연산에서 제외되었던 모든 투플을 포함시킨다.

## 7. 관계 해석
원하는 결과를 얻기 위해 처리를 원하는 데이터가 무엇인지만 기술하는 언어.

- 수학의 프레디킷 해석에 기반을 둔다.
- 투플 관계 해석과 도메인 관계 해석으로 분류된다.


# 7. 데이터베이스 언어 SQL

## 1. SQL
관계 데이터베이스를 위한 표준 질의어.

![](https://i.imgur.com/xNMSRHu.jpeg)

- 사용자가 처리를 원하는 데이터가 무엇인지만 제시하고 데이터를 어떻게 처리해야 하는지를 언급할 필요가 없어 비절차적 데이터 언어의 특징을 띤다.
- 기능에 따라 데이터 정의어, 데이터 조작어, 데이터 제어어로 나눈다.
  - <b>데이터 정의어(DML)</b>: 테이블을 생성하고 변경, 제거하는 기능을 제공한다.
  - <b>데이터 조작어(DDL)</b>: 테이블에 새 데이터를 삽입하거나, 테이블에 저장된 데이터를 수정, 석제, 검색하는 기능을 제공한다.
  - <b>데이터 제어어(DCL)</b>: 보안을 위해 데이터에 대한 접근 및 사용 권한을 사용자별로 부여하거나 취소하는 기능을 제공하는 언어다. 데이터베이스 관리자가 주로 사용한다.

### 데이터 조작어
- 절차적 데이터 조작어(procedural DML): 사용자가 어떤 데이터를 원하고 해당 데이터를 얻으려면 어떻게 접근해야 하는지 명세함
- 비절차적 데이터 조작어(nonprocedural DML): 사용자가 어떤 데이터를 원하는지만 명세함- 호스트 프로그램 속에 삽입되어 사용되는 DML명령어들을 데이터 부속어(Data Sub Language)라고 한다.

<table>
  <tr>
    <th>명령어의 종류</th>
    <th>명령어</th>
    <th>설명</th>
  </tr>
  <tr>
    <td rowspan="2">데이터 조작어<br>(DML : Data Manipulation Language)</td>
    <td>SELECT</td>
    <td>데이터베이스에 들어 있는 데이터를 조회하거나 검색하기 위한 명령어를 말하는 것으로 RETRIEVE 라고도 한다.</td>
  </tr>
  <tr>
    <td>INSERT<br>UPDATE<br>DELETE</td>
    <td>데이터베이스의 테이블에 들어 있는 데이터에 변형을 가하는 종류의 명령어들을 말한다. 예를 들어 테이블에 새로운 행을 집어넣거나, 원하지 않는 데이터를 삭제하거나 수정하는 것들의 명령어들을 DML이라고 부른다.</td>
  </tr>
  <tr>
    <td>데이터 정의어<br>(DDL : Data Definition Language)</td>
    <td>CREATE<br>ALTER<br>DROP<br>RENAME</td>
    <td>테이블과 같은 데이터 구조를 정의하는 명령어들로 구조를 생성, 변경, 삭제 및 이름을 바꾸는 데이터 구조와 관련된 명령어들을 DDL이라고 부른다.</td>
  </tr>
  <tr>
    <td>데이터 제어어<br>(DCL : Data Control)</td>
    <td>GRANT<br>REVOKE</td>
    <td>데이터베이스에 접근하고 객체들을 사용하도록 권한을 주고 회수하는 명령어를 DCL이라고 부른다.</td>
  </tr>
  <tr>
    <td>트랜잭션 제어어<br>(TCL : Transaction Control Language)</td>
    <td>COMMIT<br>ROLLBACK</td>
    <td>논리적인 작업의 단위를 묶어서 DML에 의해 조작된 결과를 작업단위(트랜잭션) 별로 제어하는 명령어를 말한다.</td>
  </tr>
</table>

## 2. SQL의 데이터 정의 기능
- SQL문의 일반적인 특징
  - 모든 SQL문은 세미콜론(;)으로 문장 끝을 표시한다.
  - SLQ문에 사용되는 CREATE TABLE, NOT NULL과 같은 키워드는 대소문자를 구분하지 않는다.
- SQL의 데이터 정의 기능
  - 테이블 생성: CREATE TABLE
  - 테이블 변경: ALTER TABLE
  - 테이블 삭제: DROP TABLE

### 테이블의 생성
```
CREATE TABLE 테이블이름 (
	속성이름 데이터타입 [NOT NULL] [DEFAULT 기본값]
	[PRIMARY KEY (속성 또는 속성리스트)]
	[UNIQUE KEY (속성 또는 속성리스트)]
	[FOREIGN KEY (속성 또는 속성리스트) REFERENCES 테이블이름(속성 또는 속성리스트)
		[ON DELETE 옵션] [ON UPDATE 옵션]]
	[CONSTRAINT 이름] [CHECK(조건)]
);
```
![](https://i.imgur.com/zXCVAbF.jpeg)

- 1 : 테이블을 구성하는 각 속성의 이름과 데이터 타입, 기본적인 제약 사항을 정의한다.
- 2 : 기본키로 테이블에 하나만 존재할 수 있다.
- 3 : 대체키로 테이블에 여러 개 존재할 수 있다.
- 4 : 외래키로 테이블에 여러 개 존재할 수 있다.
- 5 : 데이터 무결성을 위한 제약조건으로 테이블에 여러 개 존재할 수 있다.
- []로 표시한 항목은 생략이 가능하다.

1. 속성의 정의
![]()

- 테이블을 구성하는 각 속성의 데이터 타입을 선택한 후에는 속성의 널 값 허용 여부와 기본값 필요 여부를 결정해야 한다.
- <b>키워드</b>
  - <b>NOT NULL</b>
    - 널 값을 허용하지 않으려면 속성을 정의할 때 속성의 이름과 데이터 타입 다음에 NOT NULL 키워드를 포함해야 한다.
    - 기본키로 지정한 속성은 굳이 NOT NULL을 표기하지 않아도 자동으로 NOT NULL 특성을 갖는다.
  - <b>DEFAULT</b>
    - 속성에 기본 값을 지정해두지 않으면 해당 속성에 널 값이 기본으로 저장된다.
    - DEFAULT 키워드를 사용해 기본 값을 명확히 지정해두면 이 기본 값이 저장된다.
    - 숫자 데이터는 그대로 표현, 문자열이나 날짜 데이터는 작은 따옴표로 묶어주어야 한다.
    - 작은 따옴표로 묶인 문자열은 대소문자를 구분한다.

2. 키의 정의
- CREATE TABLE 문으로 테이블을 정의할 때는 기본키, 대체키, 외래키를 지정할 수 있다.
- <b>기본키</b> : PRIMARY KEY 키워드
  - 모든 테이블에서 기본키는 반드시 하나만 지정할 수 있고, 여러 개의 속성으로 구성할 수도 있다.
- <b>대체키</b> : UNIQUE 키워드
  - 대체키로 지정된 속성의 값은 테이블에서 중복되면 안 되고 유일성을 가져야 한다.
  - 널 값을 가질 수 있고, 한 테이블에서 여러 개 지정할 수 있다.
- <b>외래키</b> : FOREIGN KEY 키워드
  - 외래키가 어떤 테이블의 무슨 속성을 참조하는지 REFERENCES 키워드 다음에 명확히 제시해야 한다.
  - 참조되는 테이블에서 투플을 삭제하거나 변경할 때 처리하는 방법을 선택할 수 있다.
    - CREATE TABLE 문을 작성할 때 지정하면 되고, 기본 값은 ON DELETE NO ACTION이다.
    - ON DELETE NO ACTION : 투플을 삭제하지 못하게 한다.
    - ON DELETE CASCADE : 관련 투플을 함께 삭제한다.
    - ON DELETE SET NULL : 관련 투플의 외래키 값을 NULL로 변경한다.
    - ON DELETE SET DEFAULT : 관련 투플의 외래키 값을 미리 지정한 기본 값으로 변경한다.
  - 참조되는 테이블에서 투플이 변경될 때도 처리하는 방법을 선택할 수 있다.
    - CREATE TABLE 문을 작성할 때 지정하면 되고, 기본 값은 ON UPDATE NO ACTION이다.
    - ON UPDATE NO ACTION : 투플을 변경하지 못하도록 한다.
    - ON UPDATE CASCADE : 관련 투플에서 외래키 값을 함께 변경한다.
    - ON UPDATE SET NULL : 관련 투플의 외래키 값을 NULL로 변경한다.
    - ON UPDATE SET DEFAULT : 관련 투플의 외래키 값을 미리 지정한 기본 값으로 변경한다.

3. 데이터 무결성 제약조건의 정의
- CREATE TABLE 문으로 테이블을 정의할 때 CHECK 키워드를 사용해 특정 속성에 대한 제약조건을 지정할 수 있다.
- 테이블에 새로운 투플을 삽입하거나 기존 투플을 수정할 때도 이 제약조건을 반드시 지켜야 한다.
- CHECK 키워드를 사용해 지정한 제약조건에 CONSTRAINT 키워드와 함께 고유의 이름을 부여할 수도 있다.

### 테이블 변경
```
ALTER TABLE 테이블이름 ADD 속성이름 데이터타입 [NOT NULL] [DEFAULT 기본값];
ALTER TABLE 테이블이름 DROP COULMN 속성이름;
ALTER TABLE 테이블이름 ADD CONSTRAINT 제약조건이름 제약조건내용;
ALTER TABLE 테이블이름 DROP CONSTRAINT 제약조건이름;
```

### 테이블 삭제
```
DROP TABLE 테이블이름;
```

## 3. SQL의 데이터 조작 기능
- 데이터 검색 : SELECT
- 데이터 삽입 : INSERT
- 데이터 수정 : UPDATE
- 데이터 삭제 : DELETE

![](https://i.imgur.com/MedDRBO.jpeg)

### 1. 데이터 검색
1. 기본 검색
```
SELECT [ ALL | DISTINCT ] 속성_리스트
FROM 테이블_리스트;
```

- 검색 속성의 이름과 검색 테이블의 이름을 콤마(,)로 구분하여 차례로 나열한다.
- 테이블에 존재하는 모든 속성을 검색하려면 *를 사용한다.
- SELECT 문의 수행 결과로 반환되는 결과 테이블에서는 동일한 투플이 중복될 수 있다.
- ALL : 결과 테이블의 중복 허용, DISTINCT : 결과 테이블에서 투플의 중복 제거
- AS : 결과 테이블에 출력되는 속성의 이름을 변경할 때, 생략 가능
- 산술식을 이용한 검색
  - SELECT 키워드와 함께 산술식을 제시할 수 있다. 산술식은 속성의 이름과 +, -, *, / 등의 산술 연산자, 상수로 구성한다.

2. 조건 검색 - where
```
SELECT [ ALL | DISTINCT ] 속성_리스트
FROM 테이블_리스트
[ WHERE 조건 ];
```

- WHERE 키워드와 함께 비교 연산자와 논리 연산자를 이용한 검색 조건을 제시한다.
- 비교 연산자를 이용해 숫자뿐 아니라 문자나 날짜 값도 비교 가능하다. (작은 따옴표로 묶어야 한다.)
- <b>NULL 검색</b>
  - IS NULL : 검색 조건에서 특정 속성의 값이 널 값인지를 비교할 때 사용한다.
  - IS NOT NULL : 특정 속성의 값이 널 값이 아닌지를 비교할 때 사용한다.
- <b>문자열 부분 검색</b> : LIKE
  - 검색 조건을 부분적으로만 알고 있다면 = 대신 LIKE 키워드를 사용한다.
  - LIKE 키워드와 함께 사용할 수 있는 기호
    - % : 0개 이상의 문자 (문자의 내용과 개수는 상관 없음)
    - _ : 1개의 문자 (문자의 내용은 상관 없음)

3. 정렬 검색 - ASC, DESC
```
SELECT [ ALL | DISTINCT ] 속성_리스트
FROM 테이블_리스트
[ WHERE 조건 ]
[ ORDER BY 속성_리스트 [ ASC | DESC ] ];
```

- ORDER BY 키워드와 함께 정렬 기준이 되는 속성을 지정한다.
- 오름차순 정렬이면 ASC, 내림차순 정렬이면 DESC로 표현한다. 기본 값은 오름차순이다.

4. 집계 함수를 이용한 검색
- 특정 속성 값을 통계적으로 계산한 결과를 검색하기 위해 집계 함수를 이용할 수 있다.
- 집계 함수 종류 : 개수(COUNT), 최댓값(MAX), 최솟값(MIN), 합계(SUM), 평균(AVG)
  - SUM, AVG 함수는 숫자 데이터 타입의 속성에만 적용할 수 있다.
- 집계 함수 주의 사항
  - 널인 속성 값은 제외하고 계산한다.
  - WHERE 절에서는 사용할 수 없고, SELECT 절이나 HAVING 절에서만 사용할 수 있다.
- 집계 함수를 이용해 계산된 결과 값을 출력할 때는 AS 키워드를 사용해 새 이름을 부여해주는 것이 좋다.

5. 그룹별 검색 - GROUP BY, HAVING
```
SELECT [ ALL | DISTINCT ] 속성_리스트
FROM 테이블_리스트
[ WHERE 조건 ]
[ GROUP BY 속성_리스트 [ HAVING 조건 ] ]
[ ORDER BY 속성_리스트 [ ASC | DESC ] ];
```

- 테이블에서 특정 속성의 값이 같은 투플을 모아 그룹을 만들고, 그룹별로 검색을 하기 위해 GROUP BY 키워드를 사용한다.
- GROUP BY 키워드와 함께 그룹을 나누는 기준이 되는 속성을 지정한다.
- 그룹에 대한 조건을 추가하려면 HAVING 키워드와 함께 작성한다.
- 그룹별로 검색할 때는 그룹을 나누는 기준이 되는 속성을 SELECT 절에도 작성하는 것이 좋다.
- 그룹별로 검색할 때는 집계 함수나 GROUP BY 절에 있는 속성 외의 속성은 SELECT 절에 사용할 수 없다.

6. 여러 테이블에 대한 조인 검색
- 조인 검색을 하려면 테이블을 연결해주는 속성이 필요하고 이 속성을 조인 속성이라 한다.
- 테이블을 연결하려면, 조인 속성의 이름은 달라도 도메인은 반드시 같아야 한다.
- 일반적으로 테이블의 관계를 나타내는 외래키를 조인 속성으로 이용한다.
- <b>조인 검색을 위한 SQL 문은 FROM 절에 검색에 필요한 모든 테이블을 나열하고, WHERE 절에는 조인 속성의 값이 같아야 함을 의미하는 조인 조건을 제시한다.</b>
- 여러 테이블을 이용하는 조인 검색에서 테이블의 이름과 속성의 이름은 . 기호로 연결한다.
- 테이블 이름이 길면 AS 키워드를 이용해 별명을 부여할 수 있다. 테이블에 별명을 부여하기 위한 AS 키워드는 생략할 수 있다.

7. 부속 질의문을 이용한 검색
- 다른 SELECT 문 안에 들어 있는 SELECT 문을 부속 질의문 또는 서브 질의문이라 하고, 다른 SELECT 문을 포함하는 SELECT 문을 상위 질의문 또는 주 질의문이라 한다.
- 부속 질의문은 괄호로 묶어 작성하고 ORDER BY 절을 사용할 수 없으며, 상위 질의문보다 먼저 수행된다.
- 부속 질의문 종류
  - 단일 행 부속 질의문 : 하나의 행을 결과로 반환하는 질의문
    - 일반 비교 연산자를 사용할 수 있다.
  - 다중 행 부속 질의문 : 하나 이상의 행을 결과로 반환하는 질의문
    - IN, NOT IN : 부속 질의문의 결과 값 중 일치하는 것이 있으면 검색 조건이 참, 없으면 참
    - EXISTS, NOT EXISTS : 부속 질의문의 결과 값 중 하나라도 존재하면 검색 조건이 참, 존재하지 않으면 참
    - ALL : 부속 질의문의 결과 값 모두와 비교한 결과가 참이면 검색 조건을 만족
      (비교 연산자와 함께 사용)
    - ANY 또는 SOME : 부속 질의문의 결과 값 중 하나라도 비교한 결과가 참이면 검색 조건을 만족 (비교 연산자와 함께 사용)

### 2. 데이터의 삽입
- INSERT 문을 이용해 투플을 삽입하는 방법
  - 테이블에 투플을 직접 삽입한다.
  - 부속 질의문을 이용해 투플을 삽입한다.
 
1. 데이터 직접 삽입
```
INSERT
INTO 테이블_이름[(속성_리스트)]
VALUES (속성값_리스트);
```

- INTO 절에서 속성 이름의 리스트는 생략할 수 있는데, 생략한 경우에는 테이블을 정의할 때 지정한 속성의 순서대로 VALUES 절의 속성 값이 삽입된다.
- VALUES 절에 나열되는 속성 값은 문자나 날짜 타입의 데이터인 경우에는 작은따옴표로 묶어야 한다.

2. 부속 질의문을 이용한 데이터 삽입
```
INSERT
INTO 테이블_이름[(속성_리스트)]
SELECT 문;
```

### 3. 데이터의 수정
```
UPDATE 테이블_이름
SET 속성_이름1 = 값1, 속성_이름2 = 값2, ...
[WHERE 조건];
```

- UPDATE 문은 테이블에 저장된 투플에서 특정 속성의 값을 수정한다.
- SET 절에서 지정한 대로 속성 값을 수정한다.
- WHERE 절을 생략하면 테이블에 존재하는 모든 투플을 대상으로 한다.

### 4. 데이터의 삭제
```
DELETE
FROM 테이블_이름
[WHERE 조건];
```

- DELETE 문은 WHERE 절에 제시한 조건을 만족하는 투플만 삭제한다.
- WHERE 절을 생략하면 테이블에 존재하는 모든 투플을 삭제하여 빈 테이블이 된다.

## 4. SQL의 데이터 제어 기능(DCL)
보안을 위해 사용자별로 데이터에 대한 접근 및 사용 권한을 부여하거나 취소하는 기능으로, 데이터베이스 관리자가 주로 사용한다.

## 5. 뷰(VIEW)
<b>다른 테이블을 기반으로 만든 가상 테이블</b>이다. 일반 테이블과 달리 데이터를 실제로 저장하고 있지 않다.
물리적으로 존재하면서 실제로 데이터를 저장하는 일반 테이블과 달리, <b>뷰는 논리적으로만 존재</b>한다.
뷰를 만드는 데 기반이 되는 물리적인 테이블을 기본 테이블이라 한다.
- 뷰 생성 : CREATE VIEW
- 뷰 삭제 : DROP VIEW

### 1. 뷰의 생성
```
CREATE VIEW 뷰_이름[(속성_리스트)]
AS SELECT 문
[WITH CHECK OPTION];
```

- CREATE VIEW 명령어와 함께 새로 생성할 뷰의 이름을 제시한 후, 뷰를 구성하는 속성의 이름을 괄호 안에 나열한다.
  - 속성의 이름 리스트를 생략하면 SELECT 절에 나열된 속성의 이름을 그대로 사용한다.
- AS 키워드와 함께 기본 테이블에 대한 SELECT 문을 제시한다.
  - SELECT 문은 생성하고자 하는 뷰의 정의를 담고 있으며, ORDER BY를 사용할 수 없다.
- WITH CHECK OPTION은 생성한 뷰에 삽입이나 수정 연산을 할 때 SELECT 문에서 제시한 뷰의 정의 조건을 위반하면 수행되지 않도록 하는 제약조건을 의미한다.

### 2. 뷰의 활용
- INSERT, SELECT, UPDATE, DELETE 문도 뷰를 대상으로 수행할 수 있다. 물론 뷰에 대한 연산도 기본 테이블에 수행되기 때문에 결과적으로는 기본 테이블이 변한다.
- 검색 연산은 모든 뷰에 수행할 수 있지만 삽입, 수정, 삭제 연산은 허용되지 않는 뷰가 있다.
- 변경이 불가능한 뷰의 중요한 특징
  - 공통점 : 기본 테이블에서 어떤 투플을 어떻게 변경해야 할지 명확히 제시하지 못하는 뷰는 변경이 허용되지 않는다.
  - 기본 테이블의 기본키를 구성하는 속성이 포함되어 있지 않은 뷰
  - 기본 테이블에 있던 애용이 아니라 집계 함수로 새로 계산된 내용을 포함하고 있는 뷰
  - DISTINCT 키워드를 포함하여 정의한 뷰
  - GROUP BY 절을 포함하여 정의한 뷰
  - 여러 개의 테이블을 조인하여 정의한 뷰
- 뷰의 장점
  - 질의문을 좀 더 쉽게 작성할 수 있다.
  - 데이터의 보안 유지에 도움이 된다.
  - 데이터를 좀 더 편리하게 관리할 수 있다.

### 3. 뷰의 삭제
```
DROP VIEW 뷰_이름;
```

- 뷰를 삭제하더라도 기본 테이블을 영향을 받지 않는다.
- 만약 삭제할 뷰를 참조하는 제약조건이 존재한다면 삭제가 수행되지 않는다.

## 6. 삽입 SQL
프로그래밍 언어로 작성한 응용 프로그램에 삽입하여 사용하는 SQL문으로, 커서라는 도구가 필요하다.

- 커서 : 수행 결과로 반환된 행들을 한 번에 하나씩 가리키는 포인터
- 커서가 필요 없는 삽입 SQL : CREATE TABLE / INSERT / DELETE / UPDATE / 행 하나를 결과로 반환하는 SELECT
- 커서가 필요한 삽입 SQL : 여러 행을 결과로 반환하는 SELECT


# 8. 데이터베이스 설계

## 1. 데이터베이스 설계의 과정








